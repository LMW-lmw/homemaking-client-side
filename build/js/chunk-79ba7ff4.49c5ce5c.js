(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-79ba7ff4"],{"7dec":function(e,t,a){"use strict";a=a("d3cb"),t.a=a.a},a1c9:function(e,t,a){},a4c2:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i=Object(n.withScopeId)("data-v-e82f6e0a");Object(n.pushScopeId)("data-v-e82f6e0a");var o={class:"user"},l={key:1},r=Object(n.createTextVNode)("添加用户");Object(n.popScopeId)();var d=i((function(e,t,a,d,c,p){var s=Object(n.resolveComponent)("page-search"),u=Object(n.resolveComponent)("el-button"),f=Object(n.resolveComponent)("page-content"),m=Object(n.resolveComponent)("page-dialog");return Object(n.openBlock)(),Object(n.createBlock)("div",o,[Object(n.createVNode)(s,{formConfig:e.searchConfigComputed,pageName:"Users"},null,8,["formConfig"]),Object(n.createVNode)(f,{contentConfig:e.contentConfig,pageName:"Users",onEditBtnClick:e.editBtnClick,onUpdate:e.update,ref:"pageContentRef"},{status:i((function(t){return[e.isUpdate?(Object(n.openBlock)(),Object(n.createBlock)(u,{key:0,size:"mini",plain:"",type:1===t.back.enable?"success":"danger",onClick:function(a){return e.changeUserEnable(t.back)}},{default:i((function(){return[Object(n.createTextVNode)(Object(n.toDisplayString)(t.back.enable?"启用":"禁用"),1)]})),_:2},1032,["type","onClick"])):(Object(n.openBlock)(),Object(n.createBlock)("span",l,Object(n.toDisplayString)(t.back.enable?"启用":"禁用"),1))]})),handle:i((function(){return[Object(n.createVNode)(u,{type:"primary",onClick:e.addClick},{default:i((function(){return[r]})),_:1},8,["onClick"])]})),_:1},8,["contentConfig","onEditBtnClick","onUpdate"]),Object(n.createVNode)(m,{dialogConfig:e.dialogConfigComputed,ref:"dialogRef",infoInit:e.infoInit,pageName:"Users",searchData:e.searchData},null,8,["dialogConfig","infoInit","searchData"])])})),c=a("5530"),p=a("3835"),s=(a("7db0"),a("d81d"),a("b0c0"),a("fe8c")),u=a("3573"),f=a("7dec"),m={labelWidth:"90px",itemStyle:{padding:"20px 20px 0px 20px"},formItems:[{field:"name",id:1,type:"input",label:"用户名"},{field:"realname",id:2,type:"input",label:"真实姓名"},{field:"cellphone",id:3,type:"input",label:"电话号码"},{field:"enable",id:4,type:"select",label:"用户状态",placeholder:"请选择用户状态",options:[{title:"全部",value:""},{title:"禁用",value:"禁用"},{title:"启用",value:"启用"}]},{field:"role",id:6,type:"select",label:"用户权限",placeholder:"请选择用户权限",options:[]},{field:"createAt",id:5,type:"datepicker",label:"创建时间",otherOptions:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}]},b={tableItem:[{prop:"name",label:"用户名",minWidth:"80"},{prop:"realname",label:"真实姓名",minWidth:"80"},{prop:"cellphone",label:"电话",minWidth:"100"},{prop:"enable",label:"状态",minWidth:"80",slotName:"status"},{prop:"department",label:"部门",minWidth:"80"},{prop:"role",label:"角色",minWidth:"100"},{prop:"createAt",label:"创建时间",minWidth:"150",slotName:"createTime"},{prop:"updateAt",label:"更新时间",minWidth:"150",slotName:"updateTime"},{label:"操作",minWidth:"80",slotName:"todo"}],showIndex:!0,pagination:!0,handleSlot:["handle"],title:"用户管理"},g={rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"}],realname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],cellphone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],department:[{required:!0,message:"请选择部门信息",trigger:"change"}],role:[{required:!0,message:"请选择角色信息",trigger:"change"}]},formItems:[{id:1,field:"name",type:"input",label:"用户名",placeholder:"请输入用户名"},{id:2,field:"realname",type:"input",label:"真实姓名",placeholder:"请输入真实姓名"},{id:3,field:"password",type:"password",label:"密码",placeholder:"请输入密码(默认密码为0)",isHidden:!0},{id:4,field:"cellphone",type:"input",label:"电话号码",placeholder:"请输入电话号码"},{id:5,field:"department",type:"select",label:"部门",placeholder:"请选择部门",options:[]},{id:6,field:"role",type:"select",label:"角色",placeholder:"请选择角色",options:[]}],collLayout:{span:24},itemStyle:{paddingRight:"10px"}},h=a("8d9e"),v=a("0613"),C=a("a4d4");f=Object(n.defineComponent)({name:"user",components:{pageSearch:s.a,pageContent:u.a,pageDialog:f.a},setup:function(){var e=Object(v.c)(),t=Object(n.ref)({}),a=Object(n.ref)();C.a.on("searchUsersInfo",(function(e){t.value=e})),Object(n.watch)((function(){var e;return null===(e=a.value)||void 0===e?void 0:e.paginationInfo}),(function(e){e&&(t.value.offset=e.pageCurrent*e.pageSize,t.value.size=e.pageSize)}),{deep:!0});var i=Object(h.a)((function(){var e=g.formItems.find((function(e){return"password"===e.field}));e&&(e.isHidden=!1)}),(function(){var e=g.formItems.find((function(e){return"password"===e.field}));e&&(e.isHidden=!0)})),o=Object(p.a)(i,4),l=o[0],r=o[1],d=o[2],s=o[3],u=(i=Object(n.computed)((function(){var t=g.formItems.find((function(e){return"department"===e.field})),a=g.formItems.find((function(e){return"role"===e.field}));return t&&(t.options=e.state.department.map((function(e){return{title:e.name,value:e.name}}))),a&&(a.options=e.state.role.map((function(e){return{title:e.name,value:e.name}}))),g})),o=Object(n.computed)((function(){var t=m.formItems.find((function(e){return"role"===e.field}));return t&&(t.options=e.state.role.map((function(e){return{title:e.name,value:e.name}}))),m})),Object(n.ref)());return{formConfig:m,contentConfig:b,dialogConfigComputed:i,addClick:d,editBtnClick:s,dialogRef:l,infoInit:r,changeUserEnable:function(a){var n=Object(c.a)({},a);a={cellphone:n.cellphone,enable:n.enable,name:n.name,realname:n.realname,roleId:n.roleId,departmentId:n.departmentId},n=n.id;1===a.enable?a.enable=0:a.enable=1,e.dispatch("system/editDataAction",{pageName:"Users",editInfo:a,id:n,searchData:t.value})},searchConfigComputed:o,isUpdate:u,update:function(e){u.value=e},searchData:t,pageContentRef:a}}});a("ed5a"),f.render=d,f.__scopeId="data-v-e82f6e0a",t.default=f},d81d:function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").map;n({target:"Array",proto:!0,forced:!a("1dde")("map")},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},ed5a:function(e,t,a){"use strict";a("a1c9")}}]);